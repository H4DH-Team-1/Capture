(this.webpackJsonpform=this.webpackJsonpform||[]).push([[0],{15:function(e,a,t){},16:function(e,a,t){},17:function(e,a,t){},18:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t(1),c=t.n(s),l=t(8),i=t.n(l),o=(t(15),t(3)),r=t(4),h=t(6),d=t(5),m=(t(16),t(2)),b=t(9),u=t.n(b),j={height:100,top:30},g=function(e){Object(h.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).setRef=function(e){n.webcam=e},n.capture=function(){var e=n.webcam.getScreenshot();return n.setState({image:e}),n.props.onChange(e),!1},n.state={image:""},n.takeScreenShot=n.takeScreenShot.bind(Object(m.a)(n)),n}return Object(r.a)(t,[{key:"takeScreenShot",value:function(e){e.preventDefault()}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("label",{className:"col-3 pt-3 my-3",children:"Picture: "}),Object(n.jsx)(u.a,{audio:!1,height:350,ref:this.setRef,screenshotFormat:"image/jpeg",width:550,videoConstraints:{width:1280,height:720,facingMode:"user"},className:"col-5"}),Object(n.jsx)("button",{type:"button",className:"col-2 my-3 pt-3",onClick:this.capture,style:j,children:"Capture photo"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("label",{className:"col-3"}),Object(n.jsx)("img",{className:"col-5",src:this.state.image})]})]})}}]),t}(c.a.Component),p=(t(17),t(20)),f=function(e){Object(h.a)(t,e);var a=Object(d.a)(t);function t(e){var n;Object(o.a)(this,t),(n=a.call(this,e)).resetForm=function(){n.setState({name:""}),n.setState({phone:""}),n.setState({postCode:""}),n.setState({image:""})};var s=null;return s=e.maskId?e.maskId:Object(p.a)(),n.state={name:"",phone:"",postCode:"",infVac:"",isHealthCare:"",message:"",maskId:s,image:"",result:""},n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.handleNameChange=n.handleNameChange.bind(Object(m.a)(n)),n.handlePhoneChange=n.handlePhoneChange.bind(Object(m.a)(n)),n.handlePostCodeChange=n.handlePostCodeChange.bind(Object(m.a)(n)),n.handleInfVacChange=n.handleInfVacChange.bind(Object(m.a)(n)),n.handleHWChange=n.handleHWChange.bind(Object(m.a)(n)),n.handleImageChange=n.handleImageChange.bind(Object(m.a)(n)),n.displayStaticInfo=n.displayStaticInfo.bind(Object(m.a)(n)),n}return Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handlePhoneChange",value:function(e){this.setState({phone:e.target.value})}},{key:"handlePostCodeChange",value:function(e){this.setState({postCode:e.target.value})}},{key:"displayStaticInfo",value:function(){this.state.postCode.startsWith("48")?this.setState({message:"Cairns has a very high incidence of influenza\n      Please sanitise hands\n      Please wear mask"}):this.setState({message:""})}},{key:"handleInfVacChange",value:function(e){this.setState({infVac:e.target.value})}},{key:"handleHWChange",value:function(e){this.setState({isHealthCare:e.target.value})}},{key:"handleImageChange",value:function(e){console.log("image changed"),this.setState({image:e})}},{key:"handleSubmit",value:function(e){var a=this;e.preventDefault();var t="";this.state.name||(t+="Name must be supplied"),this.state.phone||(t+="Phone must be supplied"),this.state.postCode||(t+="Post Code must be supplied"),this.state.infVac||(t+="Vaccination details must be supplied"),this.state.image||(t+="A photo must be supplied"),this.state.maskId||(t+="A Mask ID must be supplied - you may need to reload the page by scanning the QR again"),t&&t.length>0?alert("Please correct the following and try again: ".concat(t)):fetch("https://n4xy6udiic.execute-api.ap-southeast-2.amazonaws.com/dev/checkin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.state.name,phone:this.state.phone,postcode:this.state.postCode,infVac:this.state.infVac,image:this.state.image,maskId:this.state.maskId})}).then((function(e){return e.json()})).then((function(e){console.log("The result from API is ",e),a.setState({result:e.response.success}),console.log("the result is succesful: ",e.response.success),e.response.success?(alert("Thank you for checking in, enjoy your visit!"),document.getElementById("myform").reset()):(alert("There was a problem checking you in, please see your friendly checkin staff for assistance"),a.setState({result:"fail"}))}))}},{key:"render",value:function(){var e=this.state,a=e.postCode,t=(e.infVac,e.isHealthCare),s=e.message;return Object(n.jsxs)("form",{id:"myform",onReset:this.resetForm,onSubmit:this.handleSubmit,className:"formborder",children:[Object(n.jsxs)("div",{className:"row pt-3 my-3",children:[Object(n.jsx)("label",{className:"col-3",children:"Name: "}),Object(n.jsx)("input",{type:"text",className:"form-control col-5",value:this.state.userName,onChange:this.handleNameChange})]}),Object(n.jsxs)("div",{className:"row my-3 pt-3",children:[Object(n.jsx)("label",{className:"col-3",children:"Phone: "}),Object(n.jsx)("input",{type:"tel",className:"form-control col-5",value:this.state.phone,onChange:this.handlePhoneChange})]}),Object(n.jsxs)("div",{className:"row my-3 pt-3",children:[Object(n.jsx)("label",{className:"col-3",children:"Post Code: "}),Object(n.jsx)("input",{type:"text",className:"form-control col-5",value:a,onChange:this.handlePostCodeChange,onBlur:this.displayStaticInfo}),Object(n.jsx)("p",{className:"col-3",children:s})]}),Object(n.jsxs)("div",{className:"row my-3 pt-3",children:[Object(n.jsx)("label",{className:"col-3",children:" Influenza Vaccination "}),Object(n.jsxs)("div",{className:"col-2 yes",children:[Object(n.jsx)("label",{className:"col-1",children:" Yes "}),Object(n.jsx)("input",{type:"checkbox",className:"form-control col-1 ",style:{outline:"none",marginLeft:14},value:"yes",onChange:this.handleInfVacChange})]}),Object(n.jsxs)("div",{className:"col-2 yes",children:[Object(n.jsx)("label",{className:"col-1",children:" No "}),Object(n.jsx)("input",{type:"checkbox",className:"form-control col-1 ",style:{outline:"none",marginLeft:16},value:"no",onChange:this.handleInfVacChange})]})]}),Object(n.jsxs)("div",{className:"row my-3 pt-3",children:[Object(n.jsx)("label",{className:"col-3",children:" Are you a healthcare worker "}),Object(n.jsxs)("div",{className:"col-2 yes",children:[Object(n.jsx)("label",{className:"col-1",children:" Yes "}),Object(n.jsx)("input",{type:"checkbox",className:"form-control col-1",style:{outline:"none",marginLeft:16},value:t,onChange:this.handleHWChange})]}),Object(n.jsxs)("div",{className:"col-2 yes",children:[Object(n.jsx)("label",{className:"col-1",children:" No "}),Object(n.jsx)("input",{type:"checkbox",className:"form-control col-1",style:{outline:"none",marginLeft:17},value:t,onChange:this.handleHWChange})]})]}),Object(n.jsx)(g,{onChange:this.handleImageChange}),Object(n.jsxs)("div",{className:"row my-3",children:[Object(n.jsx)("label",{className:"col-3"}),Object(n.jsx)("button",{type:"submit",value:"Submit",className:"btn btn-info col-5",children:"Submit"})]})]})}}]),t}(c.a.Component),v=function(e){Object(h.a)(t,e);var a=Object(d.a)(t);function t(e){return Object(o.a)(this,t),a.call(this,e)}return Object(r.a)(t,[{key:"render",value:function(){return Object(n.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(n.jsx)("a",{className:"navbar-brand",href:"#",children:"Capture Form"}),Object(n.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(n.jsxs)("ul",{className:"navbar-nav",children:[Object(n.jsx)("li",{className:"nav-item active",children:Object(n.jsxs)("a",{className:"nav-link",href:"#",children:["Home ",Object(n.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("a",{className:"nav-link",href:"#",children:"Capture details"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("a",{className:"nav-link",href:"#",children:"About"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("a",{className:"nav-link disabled",href:"#",children:"Help"})})]})})]})}}]),t}(c.a.Component),O=function(e){Object(h.a)(t,e);var a=Object(d.a)(t);function t(e){return Object(o.a)(this,t),a.call(this,e)}return Object(r.a)(t,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("div",{className:"container my-3 pt-3",children:[Object(n.jsx)(v,{}),Object(n.jsx)(f,{})]})})}}]),t}(c.a.Component),x=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,21)).then((function(a){var t=a.getCLS,n=a.getFID,s=a.getFCP,c=a.getLCP,l=a.getTTFB;t(e),n(e),s(e),c(e),l(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(O,{})}),document.getElementById("root")),x()}},[[18,1,2]]]);
//# sourceMappingURL=main.756c678c.chunk.js.map